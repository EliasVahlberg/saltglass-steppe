{
    "name": "Ranged Combat Kill Test",
    "description": "Test ranged attack killing an enemy at distance",
    "seed": 42,
    "world_x": 5,
    "world_y": 5,
    "mocks": {"combat_always_hit": true, "combat_fixed_damage": 20},
    "map_setup": {"clear_radius": 8},
    "player": {
        "x": 10, "y": 10, "hp": 20, "max_hp": 20, "ap": 10, "max_ap": 10,
        "inventory": ["brine_shot", "brine_shot"],
        "equipped_weapon": "brine_pistol"
    },
    "entities": [
        {"entity_type": "enemy", "id": "shard_spider", "x": 13, "y": 10, "hp": 5, "ai_disabled": true}
    ],
    "actions": [
        {"turn": 0, "action": {"type": "ranged_attack", "target_x": 13, "target_y": 10}}
    ],
    "assertions": [
        {"at_end": true, "check": {"type": "enemy_count", "op": "eq", "value": 0}, "message": "Enemy should be dead from ranged attack"},
        {"at_end": true, "check": {"type": "inventory_size", "op": "eq", "value": 1}, "message": "One shot should be consumed"}
    ]
}
