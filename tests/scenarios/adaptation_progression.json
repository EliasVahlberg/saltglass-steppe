{
  "name": "adaptation_progression",
  "seed": 42,
  "player": {
    "x": 10,
    "y": 10,
    "hp": 20,
    "max_hp": 20,
    "refraction": 0,
    "inventory": []
  },
  "entities": [],
  "actions": [
    {
      "turn": 0,
      "action": {
        "type": "trigger_storm",
        "intensity": 3
      }
    },
    {
      "turn": 1,
      "action": {
        "type": "trigger_storm",
        "intensity": 3
      }
    },
    {
      "turn": 2,
      "action": {
        "type": "trigger_storm",
        "intensity": 3
      }
    }
  ],
  "assertions": [
    {
      "after_turn": 0,
      "check": {
        "type": "refraction",
        "op": "eq",
        "value": 30
      },
      "message": "First storm: 30 refraction"
    },
    {
      "after_turn": 0,
      "check": {
        "type": "adaptation_count",
        "op": "eq",
        "value": 1
      },
      "message": "First storm should unlock 1 adaptation (Prismhide at 25)"
    },
    {
      "after_turn": 1,
      "check": {
        "type": "refraction",
        "op": "eq",
        "value": 60
      },
      "message": "Second storm: 60 refraction"
    },
    {
      "after_turn": 1,
      "check": {
        "type": "adaptation_count",
        "op": "eq",
        "value": 2
      },
      "message": "Second storm should unlock 2nd adaptation (Sunveins at 50)"
    },
    {
      "after_turn": 2,
      "check": {
        "type": "refraction",
        "op": "eq",
        "value": 90
      },
      "message": "Third storm: 90 refraction"
    },
    {
      "after_turn": 2,
      "check": {
        "type": "adaptation_count",
        "op": "eq",
        "value": 3
      },
      "message": "Third storm should unlock 3rd adaptation (MirageStep at 75)"
    }
  ]
}
