{
  "name": "Equipment System Test",
  "description": "Test equipping/unequipping jacket and verifying stat changes",
  "seed": 12345,
  "player": {
    "x": 5,
    "y": 5,
    "hp": 20,
    "inventory": ["salt_vest", "salt_knife"]
  },
  "actions": [
    {"turn": 0, "action": {"type": "equip", "item_index": 0, "slot": "jacket"}},
    {"turn": 0, "action": {"type": "equip", "item_index": 0, "slot": "weapon"}},
    {"turn": 1, "action": {"type": "unequip", "slot": "jacket"}}
  ],
  "assertions": [
    {
      "after_turn": 0,
      "check": {"type": "equipped_in_slot", "slot": "jacket", "item": "salt_vest"},
      "message": "Salt vest should be equipped in jacket slot"
    },
    {
      "after_turn": 0,
      "check": {"type": "player_armor", "op": "eq", "value": 3},
      "message": "Player armor should be 3 from salt vest"
    },
    {
      "after_turn": 0,
      "check": {"type": "equipped_in_slot", "slot": "weapon", "item": "salt_knife"},
      "message": "Salt knife should be equipped in weapon slot"
    },
    {
      "after_turn": 0,
      "check": {"type": "inventory_size", "op": "eq", "value": 0},
      "message": "Inventory should be empty after equipping both items"
    },
    {
      "after_turn": 1,
      "check": {"type": "player_armor", "op": "eq", "value": 0},
      "message": "Player armor should be 0 after unequipping vest"
    },
    {
      "after_turn": 1,
      "check": {"type": "inventory_contains", "item": "salt_vest"},
      "message": "Salt vest should be back in inventory after unequip"
    }
  ]
}
