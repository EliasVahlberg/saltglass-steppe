{
  "name": "Loot System Event Test",
  "description": "Test that LootSystem correctly handles EnemyKilled events",
  "seed": 12345,
  "world_x": 5,
  "world_y": 5,
  "player": {"x": 10, "y": 10, "hp": 100, "max_hp": 100},
  "mocks": {"combat_always_hit": true, "combat_fixed_damage": 100},
  "entities": [
    {"entity_type": "enemy", "id": "mirage_hound", "x": 11, "y": 10, "hp": 1, "ai_disabled": true}
  ],
  "actions": [
    {"turn": 0, "action": {"type": "move", "dx": 1, "dy": 0}, "comment": "Kill enemy with loot_table"},
    {"turn": 1, "action": {"type": "end_turn"}, "comment": "End turn to process events"}
  ],
  "assertions": [
    {"at_end": true, "check": {"type": "enemy_count", "op": "eq", "value": 0}, "message": "Enemy should be dead"},
    {"at_end": true, "check": {"type": "message_contains", "text": "[Event] Enemy"}, "message": "EnemyKilled event should be emitted"}
  ]
}
